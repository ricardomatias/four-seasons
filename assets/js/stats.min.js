!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Stats=b()}(this,function(){"use strict";var a=function(){function d(a){return c.appendChild(a.dom),a}function e(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?"block":"none";b=a}function f(){c.style.display="block"}function g(){c.style.display="none"}var b=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",c.addEventListener("click",function(a){a.preventDefault(),e(++b%c.children.length)},!1);var h=(performance||Date).now(),i=h,j=0,k=d(new a.Panel("FPS","#fff","#000")),l=d(new a.Panel("MS","#fff","#000"));if(self.performance&&self.performance.memory)var m=d(new a.Panel("MB","#fff","#000"));return e(0),{REVISION:16,dom:c,addPanel:d,showPanel:e,show:f,hide:g,begin:function(){h=(performance||Date).now()},end:function(){j++;var a=(performance||Date).now();if(l.update(a-h,200),a>i+1e3&&(k.update(1e3*j/(a-i),100),i=a,j=0,m)){var b=performance.memory;m.update(b.usedJSHeapSize/1048576,b.jsHeapSizeLimit/1048576)}return a},update:function(){h=this.end()},domElement:c,setMode:e}};return a.Panel=function(a,b,c){var d=1/0,e=0,f=Math.round,g=f(window.devicePixelRatio||1),h=80*g,i=48*g,j=3*g,k=2*g,l=3*g,m=15*g,n=74*g,o=30*g,p=document.createElement("canvas");p.width=h,p.height=i,p.style.cssText="width:80px;height:48px";var q=p.getContext("2d");return q.font="bold "+9*g+"px Helvetica,Arial,sans-serif",q.textBaseline="top",q.fillStyle=c,q.fillRect(0,0,h,i),q.fillStyle=b,q.fillText(a,j,k),q.fillRect(l,m,n,o),q.fillStyle=c,q.globalAlpha=.9,q.fillRect(l,m,n,o),{dom:p,update:function(i,r){d=Math.min(d,i),e=Math.max(e,i),q.fillStyle=c,q.globalAlpha=1,q.fillRect(0,0,h,m),q.fillStyle=b,q.fillText(f(i)+" "+a+" ("+f(d)+"-"+f(e)+")",j,k),q.drawImage(p,l+g,m,n-g,o,l,m,n-g,o),q.fillRect(l+n-g,m,g,o),q.fillStyle=c,q.globalAlpha=.9,q.fillRect(l+n-g,m,g,f((1-i/r)*o))}}},a});